[globals]
; title=Title from Globals
isFragment=true
basedir=R:/nobackup/junittests/testdata/JADE/

[BackgroundService]
title=Jade Background Service
isFragment=true
BackgroundServiceHost=8of9.sos
BackgroundServicePort=4210
SendTransferHistory=true
TransferMethod=TCP

[MailSettings]
title=Mail Settings
isFragment=true
file_notification_to=kb@sos-berlin.com
file_notification_subject=JADE-Client mail
file_notification_body=This is a test.
mail_smtp=smtp.sos

[jadeHistory]
title=History Files und logging
isFragment=true
log_filename=${TEMP}/jade_history.log
HistoryFileName=${TEMP}/jade_history.csv

[wilma_user]
title=Credentials fÃ¼r den Zugriff auf wilma.sos
isFragment=true
user=test
password=12345
ssh_auth_method=password

[wilma_target_user]
title=
isFragment=true
target_user=test
target_password=12345
target_ssh_auth_method=password

[user_test]
title=
isFragment=true
user=test
password=12345
ssh_auth_method=password

[wilma_host]
title=
isFragment=true
host=wilma.sos

[8of9_host]
title=
isFragment=true
host=8of9.sos

[local_host]
title=
isFragment=true
host=localhost
protocol=local


[wilma_source_host]
title=
isFragment=true
source_host=wilma.sos

[wilma_target_host]
title=
isFragment=true
target_host=wilma.sos

[local_source_host]
title=
isFragment=true
source_host=localhost
source_protocol=local

[local_target_host]
title=
isFragment=true
target_host=localhost
target_protocol=local

[cumulate_files_4_windows]
title=
isFragment=true
pre_ftp_command=del ${TEMP}\t.1
target_post_command=echo 'File: $TargetFileName' >> ${TEMP}\a\t.1 & type $TargetFileName >> ${TEMP}\a\t.1 & del $TargetFileName

[cumulate_files_4_unix]
title=
isFragment=true
pre_ftp_command==rm -f t.1
target_post_command=echo 'File: $TargetFileName' >> t.1;cat $TargetFileName >> t.1;rm -f $TargetFileName

[cumulate_test]
include=local_source_host,local_target_host,jadeHistory,cumulate_files_4_windows
file_spec=^.*\.txt$
operation=copy
source_dir=${basedir}
target_dir=${TEMP}/a

[cumulate_using_cumulative_file]
include=local_source_host,local_target_host,jadeHistory,BackgroundService
file_spec=^.*\.txt$
operation=copy
source_dir=${basedir}
target_dir=${TEMP}/a
cumulate_files=true
cumulative_file_name=t.1
cumulative_file_separator=--- File: %{SourceFileName} ---
; transactional=true
; atomic_suffix=.tmp
; cumulative_file_delete=true


[copy_files_with_md5]
include=local_source_host,local_target_host,jadeHistory,BackgroundService
file_spec=^.*\.txt$
operation=copy
source_dir=${basedir}
target_dir=${TEMP}/a
CreateSecurityHashFile=true

[copy_files_check_md5]
include=local_source_host,local_target_host,jadeHistory,BackgroundService
file_spec=^.*\.txt$
operation=copy
target_dir=${basedir}
source_dir=${TEMP}/a
CheckSecurityHash=true



[do_ftp]
title=
isFragment=true
protocol=ftp
port=21

[do_sftp]
title=
isFragment=true
protocol=sftp
port=22


[ftp_background]
title=
isFragment=false
include=wilma_host,wilma_user,do_sftp,BackgroundService
source_loadClassName=com.sos.VirtualFileSystem.SFTP.SOSVfsSFtpJCraft
target_loadClassName=com.sos.VirtualFileSystem.SFTP.SOSVfsSFtpJCraft
operation=receive
local_dir=${TEMP}/sosftp_inbound/
file_path=./test.txt
log_filename=${TEMP}/sosftphistory.log
HistoryFileName=${TEMP}/sosftphistory.csv


[ftp_without_loadClassName]
Title=ftp without loadClassName
include=wilma_host,wilma_user,do_sftp,BackgroundService
;source_loadClassName=com.sos.VirtualFileSystem.SFTP.SOSVfsSFtp
;target_loadClassName=com.sos.VirtualFileSystem.SFTP.SOSVfsSFtp
operation=receive
local_dir=${TEMP}/sosftp_inbound/
file_path=./test.txt
log_filename=${TEMP}/sosftphistory.log
HistoryFileName=${TEMP}/sosftphistory.csv


[ftp_receive_1_wilma]
title=
isFragment=false
include=wilma_host,wilma_user,do_ftp,BackgroundService,MailSettings
operation=receive
remote_dir=.
file_spec=.*
local_dir=${TEMP}/sosftp_inbound/

log_filename=${TEMP}/sosftphistory.log

; Test of parameter "loadClassName"
[ftp_receive_2_wilma]
title=
isFragment=false
include=wilma_host,wilma_user,do_sftp,BackgroundService,MailSettings
source_loadClassName=com.sos.VirtualFileSystem.SFTP.SOSVfsSFtpJCraft
target_loadClassName=com.sos.VirtualFileSystem.SFTP.SOSVfsSFtpJCraft
operation=receive
remote_dir=.
; file_spec=\.txt$
file_spec=.*
local_dir=${TEMP}/sosftp_inbound/

log_filename=${TEMP}/sosftphistory.log
HistoryFileName=${TEMP}/sosftphistory.dat


[ftp_send_1_wilma]
title=
isFragment=false
include=wilma_host,wilma_user,do_ftp,BackgroundService,MailSettings
operation=send
; remote_dir=.
local_dir=${TEMP}
file_path=${TEMP}/test.txt

log_filename=${TEMP}/sosftphistory.log

[ftp_server_2_server]
title=
isFragment=false
ssh_auth_method=password

source_user=kb
source_password=kb
source_ssh_auth_method=password
source_host=wilma.sos
source_protocol=sftp
source_port=22
;source_dir=${local_dir}

target_user=kb
target_password=kb
target_host=8of9.sos
target_protocol=ftp
target_port=21
;target_dir=${remote_dir}

file_path=test.txt
local_dir=/home/kb/
remote_dir=/kb/
operation=copy

log_filename=${TEMP}/sosftphistory.log

[zip_local_files]
title=
isFragment=false

operation=copy
source_protocol=local
source_dir=${basedir}
file_spec=.*\.txt$

target_protocol=zip
target_dir=${basedir}\test.zip
;# old style, but needed. has to be fixed
;local_dir=${TEMP}/
;remote_dir=${TEMP}/test.zip

[zip_local_files_2]
title=
isFragment=false

source_protocol=local
source_dir=${basedir}
file_spec=.*\.txt$

target_protocol=zip
target_dir=${basedir}\test.zip
;# old style, but needed. has to be fixed
;local_dir=${TEMP}/
;remote_dir=${TEMP}/test.zip

[zip_extract_2_local_files]
title=
isFragment=false

operation=copy
target_protocol=local
target_dir=${basedir}\/

file_spec=.*\.txt$

source_protocol=zip
source_dir=${basedir}\test.zip
;local_dir=${TEMP}/test.zip
;remote_dir=${TEMP}/


[getList_example]
title=
isFragment=false

operation=getList
include=BackgroundService,MailSettings
source_host=localhost
; source_protocol=local
protocol=local  
source_dir=${basedir}
file_spec=^.*\.txt$
CreateResultSet=true

[getList_variable_filespec_example]
title=
isFragment=false

operation=getList
include=BackgroundService,MailSettings
source_host=localhost
source_protocol=local
protocol=local
source_dir=${basedir}
file_spec=^.*_[date:yyyyMMdd]\.123$
CreateResultSet=true

[getList_example_ftp]
title=
isFragment=false

operation=getList
include=wilma_user,wilma_host,do_ftp
source_dir=/home/test
file_spec=^.*\.pdf$
CreateResultSet=true

[getList_example_sftp]
title=
isFragment=false

operation=getList
source_include=wilma_user,wilma_host,do_sftp
source_dir=/home/test
file_spec=^.*\.pdf$
CreateResultSet=true

[CopyAndRenameSource_Local2Local]
title=
isFragment=false

source_replacing=(.*)(.txt)
source_replacement=\1_[date:yyyyMMddHHmm];\2

source_dir = ${basedir}
target_dir = ${basedir}SOSMDX/
log_filename = ${TEMP}/test.log
file_spec = ^.*\.txt$
operation = copy
source_protocol = local
target_protocol = local
remove_files = false

[Copy_Local2Local_UNC]
title=
isFragment=false

source_protocol = local
source_dir = //8of9.sos/c/temp

target_dir = //r2d2.sos/share/nobackup/junittests/testdata/JADE
target_protocol = local

log_filename = ${TEMP}/test.log
file_spec = ^.*\.(txt|dot)$
operation = copy
remove_files = false

[Copy_Local2Local_UNC_withNetUse]
title=
isFragment=false

include=Copy_Local2Local_UNC
preTransferCommands=net use //8of9.sos/c;net use //r2d2.sos/share

[CopyAndMoveSource_Local2Local]
title=
isFragment=false

source_replacing=(.*)(.txt)
source_replacement=/SAVE/\1_[date:yyyyMMddHHmm];\2

source_dir = ${basedir}
target_dir = ${basedir}SOSMDX/
log_filename = C=\Users\KB\AppData\Local\Temp\test.log
file_spec = ^.*\.txt$
operation = copy
source_protocol = local
target_protocol = local
remove_files = false


[CopyAndMoveSource2NewFolder_Local2Local]
title=
isFragment=false

include=CopyAndMoveSource_Local2Local
source_replacing=(.*)
source_replacement=UNKNOWNFOLDER/\1
source_dir = ${basedir}
log_filename = ${TEMP}\test.log
make_Dirs = true
source_make_Dirs = true
file_spec = ^.*00000\.txt$


[CopyAndCreateVariableFolder_Local2Local]
title=
isFragment=false

target_dir = ${basedir}SAVE[date:yyyyMMddHHmm]/
make_Dirs = true

source_dir = ${basedir}
file_spec = ^.*\.txt$
operation = copy
source_protocol = local
target_protocol = local
remove_files = false

[CopyAndRenameSourceAndTarget_Local2Local]
title=
isFragment=false

source_replacing=(.*)(.txt)
source_replacement=\1_[date:yyyyMMddHHmm];\2
target_replacing = (.*)(.txt)
target_replacement = \1_[date:yyyyMMdd];\2

source_dir = ${basedir}
target_dir = ${basedir}SOSMDX/
log_filename = ${TEMP}\test.log
file_spec = ^.*\.txt$
operation = copy
source_protocol = local
target_protocol = local
remove_files = false



[substitute_example]
title=
isFragment=false

log_filename=${TEMP}/jade_history.log
historyFileName=${TEMP}/history-${uuid}.dat
title=JADE: Transfer from ${localhost} at ${date} ${time} using profile ${profile}

[receive_zbf]
title=Receive: Test for empty files
isFragment=false
source_include=wilma_host,user_test,do_ftp
target_include=local_host

include=MailSettings

operation=copy
file_spec = ^*\.zero$
force_files = false
transactional = true
atomic_suffix = .tmp
overwrite_files = true
remove_files = false
target_dir = ${TEMP}/zbf
make_dirs=true
source_dir = /home/test/zero

file_notification_to=kb@sos-berlin.com
mail_on_empty_files=true
mail_on_empty_files_to=kb@sos-berlin.com
mail_on_empty_files_subject=JADE: empty Files in '${title}' detected

[send_zbf]
title=Send: Test for empty files
include=local_source_host,wilma_target_host,wilma_user,do_sftp,MailSettings
operation=copy
file_spec = ^*\.zero$
force_files = false
transactional = true
atomic_suffix = .tmp
overwrite_files = true
remove_files = false
source_dir = ${TEMP}/zbf
make_dirs=true
target_dir = /home/test/zero

file_notification_to=kb@sos-berlin.com
mail_on_empty_files=true
mail_on_empty_files_to=kb@sos-berlin.com
mail_on_empty_files_subject=JADE: empty Files in '${title}' detected

[receive_zbf_relaxed]
title=
isFragment=false

include=receive_zbf
zero_byte_transfer = relaxed

[receive_zbf_strict]
title=
isFragment=false

include=receive_zbf
zero_byte_transfer = strict

[receive_zbf_no_onlyzbf]
title=
isFragment=false

include=receive_zbf
zero_byte_transfer = no
mail_on_empty_files=true

[receive_zbf_no]
title=
isFragment=false

include=receive_zbf
zero_byte_transfer = no
file_spec = ^*\.z$

[receive_zbf_no_noFiles]
title=
isFragment=false

include=receive_zbf
zero_byte_transfer = no
force_files=no
file_spec = ^*\.nothingExpected$

[receive_zbf_yes]
title=
isFragment=false

include=receive_zbf
zero_byte_transfer = yes
file_spec = ^*\.z$

[send_zbf_yes]
title=
isFragment=false

include=send_zbf
zero_byte_transfer = yes
file_spec = ^*\.z$

; jade.cmd -settings=..\examples\jade_settings.ini -profile=Copy_Local2Local_recursive
; see http://www.sos-berlin.com/jira/browse/JS-750
[Copy_Local2Local_recursive]
title=
isFragment=false

source_protocol = local
source_dir = R:\nobackup\junittests\testdata\JADE\recursive

target_dir = ${TEMP}\FileTransfer3\
target_protocol = local

make_Dirs = true
log_filename = ${TEMP}\FileTransfer3\test.log
file_spec = ^.*\.(txt|dot|rpt)$
operation = copy
remove_files = false

recursive= true


[Copy_Local2SFTP_recursive]
title=
isFragment=false

target_include=wilma_host,wilma_user
operation=copy
source_protocol = local
source_dir = R:\nobackup\junittests\testdata\JADE\recursive

target_protocol=sftp
target_port=22
target_dir = /home/test/tmp/test/sftp

make_Dirs = true
log_filename = ${TEMP}/test.log
file_spec = \.(txt|dot)$
operation = copy
remove_files = false

recursive= true

[Copy_Local2FTP_recursive]
title=
isFragment=false

include=wilma_target_host,wilma_target_user
operation=copy
source_protocol = local
source_dir = R:\nobackup\junittests\testdata\JADE\recursive

target_protocol=ftp
target_port=21
target_dir = /home/test/tmp/test/ftp

make_Dirs = true
log_filename = ${TEMP}/test.log
file_spec = \.(txt|dot)$
operation = copy
remove_files = false

recursive= true

[filespec2]
title=
isFragment=false

operation = copy
target_protocol=local
target_dir = ${basedir}/in
source_protocol=ftp
source_host=homer.sos
source_port=21
source_user=test
source_password=12345
source_dir = /tmp/test/jade/out
file_spec = \.txt$


[CopyAndCheckSteadyState_Local2Local]
title=
isFragment=false

source_dir = ${basedir}
target_dir = ${basedir}SOSMDX/
log_filename = ${TEMP}/test.log
file_spec = ^.*00000\.txt$
operation = copy
source_protocol = local
target_protocol = local
remove_files = false
Check_Steady_State_Of_Files = true
 